<div style="margin-top: 5%">
    <div class="p-grid">
        <div class="p-col-12 p-justify-center">
            <p-panel header="Sistema de archivos actual">

                <p-toolbar class="m-3">
                    <div class="ui-toolbar-group-left">
                        <button pButton *ngIf="!collapse" icon="pi pi-folder-open" type="button" class="ui-button ui-button-rounded ui-button-icon-info" label="Expandir carpetas" (click)="expandAll()" style="margin-right: .25em"></button>
                        <button pButton *ngIf="collapse" icon="pi pi-folder" type="button" class="ui-button ui-button-rounded ui-button-icon-info" label="Colapsar carpetas" (click)="collapseAll()"></button>
                    </div>
                    <div class="ui-toolbar-group-right" *ngIf="nodoSelect">
                        <button pButton icon="pi pi-plus" type="button" class="ui-button ui-button-secondary" label="Nueva carpeta" (click)="activateNewFolder()" style="margin-right: .25em"></button>
                        <button pButton icon="pi pi-pencil" type="button" class="ui-button ui-button-secondary" label="Renombrar carpeta" style="margin-right: .25em" (click)="activateRenameFolder()"></button>
                        <button pButton icon="pi pi-minus" type="button" class="ui-button ui-button-secondary" label="Eliminar carpeta" style="margin-right: .25em" (click)="confirm()"></button>
                    </div>
                </p-toolbar>
                <div *ngIf="flagNewFolder">
                    <div class="p-grid">
                        <div class="p-col-12 p-justify-center">
                            <p-panel>
                                <div class="m-3" *ngIf="nodoSelect">
                                    <p-message *ngIf="operationMessage" severity="info" text="{{operationMessage}} {{BreadcrumFiles}}{{newFile}}"></p-message>
                                </div>
                                <span class="ui-float-label mt-4">
                                    <input [(ngModel)]="newFile" id="float-input" class="form-control" type="text" pInputText pTooltip="Ingrese el nombre la esta carpeta" tooltipEvent="focus">
                                    <label for="float-input">{{operation}}</label>
                                </span>
                                <div class="mt-3">
                                    <p-button *ngIf="operationMessage" label="Crear carpeta" styleClass="mr-2 ui-button-success ui-button-rounded" (click)="createFolder()"></p-button>
                                    <p-button *ngIf="!operationMessage" label="Renombrar carpeta" styleClass="mr-2 ui-button-success ui-button-rounded" (click)="renameFolder()"></p-button>
                                    <p-button label="Cancelar" (onClick)="cancelCreateFolder()" styleClass="ui-button-secondary ui-button-rounded"></p-button>
                                </div>
                            </p-panel>
                        </div>
                    </div>
                </div>
                <p-tree [value]="files" layout="horizontal" selectionMode="single" [(selection)]="nodoSelect" (onNodeSelect)="nodoSelectF($event)"></p-tree>
            </p-panel>
        </div>
    </div>
</div>

<p-confirmDialog key="confirmDelete" header="Eliminar carpeta" icon="pi pi-exclamation-triangle"></p-confirmDialog>

<p-toast key="errorEditUser" [style]="{marginTop: '80px'}"></p-toast>
<p-toast key="createSeccess" [style]="{marginTop: '80px'}"></p-toast>
<p-toast key="renameSeccess" [style]="{marginTop: '80px'}"></p-toast>
<p-toast key="deleteSeccess" [style]="{marginTop: '80px'}"></p-toast>